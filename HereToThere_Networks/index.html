<html>
<head>
    <title>A D3 map</title>
    <script src="https://d3js.org/d3.v4.min.js" charset="utf-8"></script>
    <script src="js/neighborhoodsMSP.js"></script>
</head>
<body>
    <script>
        var width = 700,
    height = 580;

        var svg = d3.select("body")
          .append("svg")
          .attr("width", width)
          .attr("height", height);

        var g = svg.append("g");

        var albersProjection = d3.geoAlbers()
          .scale(190000)
          .rotate([93.2650, 0])
          .center([0, 44.9778])
          .translate([width / 2, height / 2]);

        var geoPath = d3.geoPath()
            .projection(albersProjection);

        g.selectAll("path")
          .data(neighborhoods_json.features)
          .enter()
          .append("path")
          .attr("fill", "#ccc")
          .attr("d", geoPath);
        d3.csv("https://docs.google.com/spreadsheets/d/1ZKBvaJ2Vru1v37ufPXI-XE_bD1iSMPsXLcRWd7t3Vow/pub?gid=1870254444&single=true&output=csv", function (error, data) {
            g.selectAll("circle")
               .data(data)
               .enter()
               .append("circle")
               .attr("cx", function (d) {
                   return albersProjection([d.OLon, d.OLat])[0];
               })
               .attr("cy", function (d) {
                   return albersProjection([d.OLon, d.OLat])[1];
               })
               .attr("r", 5)
               .style("fill", "red");
        });
                
        </script>
</body>
</html>
